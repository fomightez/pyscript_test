<html>
  <head>
    <title>Panndas Example with reading from relative url in the same location where HTML resides</title>
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
  </head>
  <py-config>
packages = [
    "opencv-python",
    "matplotlib",
    "jinja2"
      ]
  </py-config>
    <body>
        <h1>Hello World!</h1>
        <p> This is based on 'Panndas Example with reading from relative url in the same location where HTML resides' https://github.com/fomightez/pyscript_test/blob/main/csv_read_from_same_location.html</p>
        <p>And then trying out what worked from https://stackoverflow.com/questions/74533570/pyscript-modulenotfounderror-no-module-named-cv2#comment131573724_74533570 where I used Pyodide in JupyterLite to use OpenCV. code at https://gist.github.com/fomightez/2277f4f55cfdb02ea6a7a5d3ca0e335f and niciew view at https://nbviewer.org/gist/fomightez/2277f4f55cfdb02ea6a7a5d3ca0e335f</p>
        <p>This is a test To see how my html code is.</p>
        <p>This space below will become blank as a few seconds is taken to render the ????????. Be patient ...</p>
        <div id="pane"></div>

        <py-script>      
import cv2
import numpy as np
#import jinja2

from pyodide.http import open_url

url = 'clown.png'
# reading image from a URL for CV2 based on https://stackoverflow.com/a/21062034/8508004
req = open_url(url)
arr = np.asarray(bytearray(req.read()), dtype=np.uint8)
image = cv2.imdecode(arr, cv2.IMREAD_COLOR) # `cv2.IMREAD_COLOR` from https://stackoverflow.com/a/55026951/8508004
# example code from https://learning.rc.virginia.edu/notes/opencv/
#image = cv2.imread(open_url(url))
(h, w, d) = image.shape
print('width={}, height={}, depth={}'.format(w, h, d))

roi = image[30:130,140:240]
plt.imshow(cv2.cvtColor(roi,cv2.COLOR_BGR2RGB))
plt.show()



        </py-script>
<!-- dcoument based on:
- `csv_read_test.html` and changing that to a relative URL to read in the same location as where HTML file is found;
also works with `url = './clown.png'`

-->
    </body>

</html>
